# ebcfetch.yml

# This provides a basic default specification, most of which will be overridden from the live
# database.

# If true, only process emails sent from entrant's registered address
# For general testing purposes you probably want to leave this false so that you can use your own email address to send test claims.
# You should turn this on for the actual rally though as it will prevent scores being affected by mistaken claims.
matchemail: false


# If this flag is true, EBC fetching will be suppressed
dontrun: false


# Executable to convert HEIC image files to JPG
# The arguments are expected to be:- filename.HEIC filename.JPG
# Will be called at BOJ with no arguments to validate installation
# This uses the ImageMagick package which must be installed on the server
heic2jpg: ebcimg

convertheic2jpg: true




# Sleep this long between mailbox inspections
sleepseconds: 10

# Don't fetch emails older (imap.internaldate) than this date
notbefore: 2025-01-01

# Fetch emails without any of these flags
selectflags: ["\\Flagged", "\\Seen"]


# Acceptable subject line RE. This accepts decorated entrant numbers, various time formats. Must have four fields.
subject: '(\d+)[\s\.,]+([\w\-]+\-?)[\s\.,]+(\d+)[\s\.,]+([\d:\.\-\+TZ]+)[\s\.,]*(.*)'

# Subject line RE to measure strict adherence to standard
strict: '^\s*(\d+)\s+([a-zA-Z0-9\-]+)\s+(\d+)\s+(\d\d\d\d)'

checkstrict: true

allowbody: true

# Filesystem path to ScoreMaster folder
path2sm: sm

# Path from ScoreMaster folder to EBC image folder
imagefolder: ebcimg

################ Testmode settings below here

# testmode = true = respond to emails with analysis; false = pass emails to ScoreMaster
testmode: false

# Setting this to true turns on debugging level log entries
verbose: false

# Literals used in testmode response emails

TestResponseSubject: EBC test result / Testergebnis
TestResponseGood: Good bonus claim received / Guter Bonusanspruch erhalten
TestResponseBad: Bad bonus claim received / UngÃ¼ltiger Bonusanspruch erhalten
TestResponseGoodEmail: ðŸ‡¬ðŸ‡§ In the rally you MUST use your registered email address.<br>ðŸ‡©ðŸ‡ª WÃ¤hrend der Rally MÃœSSEN Sie Ihre registrierte E-Mail-Adresse verwenden 
TestResponseBadEmail: ðŸ‡¬ðŸ‡§ Ok for testing but in the rally you MUST use your registered email address.<br>ðŸ‡©ðŸ‡ª Zum Testen okay, aber bei der Rally MÃœSSEN Sie Ihre registrierte E-Mail-Adresse verwenden
TestResponseAdvice: |
  <p>ðŸ‡¬ðŸ‡§ Good/bad here means that the email did/did not contain a
  valid bonus claim. It does not mean that the claim will succeed (maybe the
  photo is the wrong one) or fail, it just means that it will be processed
  correctly.<br>ðŸ‡©ðŸ‡ª Gut/schlecht bedeutet hier, dass die E-Mail einen gÃ¼ltigen Bonusanspruch enthielt/enthielt. Dies bedeutet nicht, dass der Anspruch erfolgreich ist (vielleicht ist das Foto das falsche) oder fehlschlÃ¤gt, es bedeutet nur, dass er korrekt verarbeitet wird.</p>

  <p>ðŸ‡¬ðŸ‡§ You are receiving this because we're operating in test mode. YOU WILL NOT RECEIVE ANY RESPONSES DURING THE RALLY.<br>ðŸ‡©ðŸ‡ª Sie erhalten diese, weil wir uns im Testmodus befinden. WÃ„HREND DER RALLYE ERHALTEN SIE KEINE ANTWORTEN.</p>

TestModeLiteral: TEST MODE


# Can be used to expressly permit more than 1 photo
# MaxExtraPhotos: 1

TestResponseBCC:


